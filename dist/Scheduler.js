(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Scheduler:()=>fe});const n=require("react/jsx-runtime"),s=require("react");var a=e.n(s);const r=require("date-fns/locale/en-US");var o=e.n(r);const i={month:{weekDays:[0,1,2,3,4,5,6],weekStartOn:1,startHour:9,endHour:17},week:{weekDays:[0,1,2,3,4,5,6],weekStartOn:1,startHour:6,endHour:17,step:60},day:{startHour:6,endHour:17,step:60},view:"week",selectedDate:new Date,events:[],loading:void 0,direction:"ltr",locale:o()},d=(0,s.createContext)(Object.assign({},i)),l=({passedProps:e,children:t})=>(0,n.jsx)(d.Provider,Object.assign({value:e},{children:t}),void 0),c=require("@mui/material"),u=require("@mui/material/styles"),h=require("@mui/icons-material/MoreVert");var p=e.n(h);const y=new Date,v=require("date-fns"),g=()=>(0,s.useContext)(d),m=require("@mui/lab/DatePicker");var x=e.n(m);const j=require("@mui/icons-material/NavigateBeforeRounded");var f=e.n(j);const b=require("@mui/icons-material/NavigateNextRounded");var O=e.n(b);const D=({type:e,onClick:t,tooltip:s})=>{const{direction:a}=g();let r=O();return"prev"===e?r="rtl"===a?O():f():"next"===e&&(r="rtl"===a?f():O()),(0,n.jsx)(c.Tooltip,Object.assign({title:s,describeChild:!0},{children:(0,n.jsx)(c.IconButton,Object.assign({style:{padding:2},onClick:t,onDragOver:e=>{e.preventDefault(),t&&t()}},{children:(0,n.jsx)(r,{},void 0)}),void 0)}),void 0)},k=require("@mui/lab/AdapterDateFns");var w=e.n(k);const C=require("@mui/lab/LocalizationProvider");var M=e.n(C);const T=({children:e})=>{const{locale:t}=g();return(0,n.jsx)(M(),Object.assign({dateAdapter:w(),locale:t},{children:e}),void 0)},S=({selectedDate:e})=>{var t,a;const{locale:r,localizationTexts:o,onDateChange:i}=g(),[d,l]=(0,s.useState)(!1),u=()=>l(!d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const t=(0,v.addDays)(e,-1);null==i||i(t)},tooltip:null!==(t=null==o?void 0:o.previousDay)&&void 0!==t?t:"Previous day"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:d,onClose:u,openTo:"day",views:["month","day"],value:e,onChange:(e,t)=>{e&&(null==i||i(e))},renderInput:t=>(0,n.jsx)(c.Button,Object.assign({ref:t.inputRef,style:{padding:4},onClick:u},{children:`${(0,v.format)(e,"dd, MMMM yyyy",{locale:r})}`}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const t=(0,v.addDays)(e,1);null==i||i(t)},tooltip:null!==(a=null==o?void 0:o.nextDay)&&void 0!==a?a:"Next day"},void 0)]},void 0)},I=({selectedDate:e})=>{var t,a;const{locale:r,localizationTexts:o,onDateChange:i}=g(),[d,l]=(0,s.useState)(!1),u=()=>l(!d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const t=(0,v.addMonths)(e,-1);null==i||i(t)},tooltip:null!==(t=null==o?void 0:o.previousMonth)&&void 0!==t?t:"Previous month"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:d,onClose:u,openTo:"month",views:["year","month"],value:e,onChange:(e,t)=>{e&&(null==i||i(e))},renderInput:t=>(0,n.jsx)(c.Button,Object.assign({ref:t.inputRef,style:{padding:4},onClick:u},{children:(0,v.format)(e,"MMMM yyyy",{locale:r})}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const t=(0,v.addMonths)(e,1);null==i||i(t)},tooltip:null!==(a=null==o?void 0:o.nextMonth)&&void 0!==a?a:"Next month"},void 0)]},void 0)},H=({selectedDate:e,weekProps:t})=>{var a,r;const{locale:o,localizationTexts:i,onDateChange:d}=g(),[l,u]=(0,s.useState)(!1),{weekStartOn:h}=t,p=(0,v.startOfWeek)(e,{weekStartsOn:h}),y=(0,v.endOfWeek)(e,{weekStartsOn:h}),m=()=>u(!l);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const e=(0,v.addDays)(p,-1);null==d||d(e)},tooltip:null!==(a=null==i?void 0:i.previousWeek)&&void 0!==a?a:"Previous week"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:l,onClose:m,openTo:"day",views:["month","day"],value:e,onChange:(e,t)=>{e&&(null==d||d(e))},renderInput:e=>(0,n.jsx)(c.Button,Object.assign({ref:e.inputRef,style:{padding:4},onClick:m},{children:`${(0,v.format)(p,"dd",{locale:o})} - ${(0,v.format)(y,"dd MMMM yyyy",{locale:o})}`}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const e=(0,v.addDays)(y,1);null==d||d(e)},tooltip:null!==(r=null==i?void 0:i.nextWeek)&&void 0!==r?r:"Next week"},void 0)]},void 0)},P=(0,u.styled)(c.Toolbar,{name:"Toolbar"})({display:"flex",justifyContent:"space-between",alignItems:"center"}),z=(e,t)=>{var n;return null!==(n=null==t?void 0:t[e])&&void 0!==n?n:e},B=(0,s.memo)((()=>{var e;const{selectedDate:t=y,view:a,week:r,localizationTexts:o,renderNavigation:i,day:d,month:l,onDateChange:u,onViewChange:h}=g(),[v,m]=(0,s.useState)(null),x=(0,c.useTheme)(),j=(0,c.useMediaQuery)(x.breakpoints.up("sm")),f=((e,t,n)=>{let s=[];return e&&s.push("month"),t&&s.push("week"),n&&s.push("day"),s})(l,r,d),b=e=>{m(e||null)},O=(0,s.useCallback)((()=>{switch(a){case"month":return(0,n.jsx)(I,{selectedDate:t},void 0);case"week":return(0,n.jsx)(H,{selectedDate:t,weekProps:r},void 0);case"day":return(0,n.jsx)(S,{selectedDate:t},void 0);default:return(0,n.jsx)(n.Fragment,{},void 0)}}),[a,t])(),D=(0,n.jsx)(c.Button,Object.assign({onClick:()=>null==u?void 0:u(new Date)},{children:null!==(e=null==o?void 0:o.today)&&void 0!==e?e:"Today"}),void 0);let k=f.map((e=>(0,n.jsx)(c.Button,Object.assign({color:e===a?"primary":"inherit",onClick:()=>null==h?void 0:h(e),onDragOver:t=>{t.preventDefault(),null==h||h(e)}},{children:z(e,o)}),e)));j||(k=(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(c.IconButton,Object.assign({style:{padding:5},onClick:e=>{b(e.currentTarget)}},{children:(0,n.jsx)(p(),{},void 0)}),void 0),(0,n.jsx)(c.Popover,Object.assign({open:Boolean(v),anchorEl:v,onClose:e=>{b()},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},{children:(0,n.jsx)(c.MenuList,Object.assign({autoFocusItem:!!v,disablePadding:!0},{children:f.map((e=>(0,n.jsx)(c.MenuItem,Object.assign({selected:e===a,onClick:()=>{b(),null==h||h(e)}},{children:z(e,o)}),e)))}),void 0)}),void 0)]},void 0)),0===f.length&&(k=(0,n.jsx)(n.Fragment,{},void 0));let w=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[O,D]},void 0),(0,n.jsx)("div",{children:k},void 0)]},void 0);return i&&(w=i({dateSelector:O,todayButton:D,viewSelector:k,isDesktop:j})),(0,n.jsx)(P,Object.assign({className:"Toolbar"},{children:w}),void 0)})),W=({date:e,onClick:t})=>{const{locale:s}=g();return(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Typography,Object.assign({style:{fontWeight:(0,v.isToday)(e)?"bold":"inherit"},color:(0,v.isToday)(e)?"primary":"inherit",className:t?"rs__hover__op":"",onClick:n=>{n.stopPropagation(),t&&t(e)}},{children:(0,v.format)(e,"dd")}),void 0),(0,n.jsx)(c.Typography,Object.assign({color:(0,v.isToday)(e)?"primary":"inherit",style:{fontWeight:(0,v.isToday)(e)?"bold":"inherit",fontSize:11}},{children:(0,v.format)(e,"eee",{locale:s})}),void 0)]},void 0)},R=require("@mui/icons-material/ArrowLeftRounded");var F=e.n(R);const N=require("@mui/icons-material/ArrowRightRounded");var L=e.n(N);const _=(0,u.styled)(c.Paper,{shouldForwardProp:e=>"disabled"!==e&&"color"!==e})((({theme:e,color:t})=>({width:"100%",display:"block",background:t||e.palette.primary.main,color:e.palette.getContrastText(t||e.palette.primary.main),overflow:"hidden"}))),q=(0,u.styled)(c.Box)((({theme:e})=>({padding:e.spacing(.3)}))),$=(0,u.styled)(c.Box)((({theme:e})=>({padding:e.spacing(.3),display:"flex",alignItems:"center",justifyContent:"space-between"}))),E=({event:e,multiday:t,hasPrev:a,hasNext:r,showdate:o,sx:i})=>{const{direction:d,locale:l,onEventClick:u,disableDrag:h}=g(),p=(0,c.useTheme)(),y="rtl"===d?F():L(),m="rtl"===d?L():F();let x=(0,n.jsxs)(q,Object.assign({className:"Item"},{children:[(0,n.jsx)(c.Typography,Object.assign({variant:"subtitle2",style:{fontSize:12},noWrap:!0},{children:e.title}),void 0),o&&(0,n.jsx)(c.Typography,Object.assign({style:{fontSize:11},noWrap:!0},{children:`${(0,v.format)(e.start,"hh:mm a",{locale:l})} - ${(0,v.format)(e.end,"hh:mm a",{locale:l})}`}),void 0)]}),void 0);return t&&(x=(0,n.jsxs)($,Object.assign({className:"Multiday"},{children:[(0,n.jsx)(c.Typography,Object.assign({sx:{fontSize:11},noWrap:!0},{children:a?(0,n.jsx)(m,{fontSize:"small",sx:{display:"flex"}},void 0):o&&(0,v.format)(e.start,"hh:mm a",{locale:l})}),void 0),(0,n.jsx)(c.Typography,Object.assign({variant:"subtitle2",align:"center",sx:{fontSize:12},noWrap:!0},{children:e.title}),void 0),(0,n.jsx)(c.Typography,Object.assign({sx:{fontSize:11},noWrap:!0},{children:r?(0,n.jsx)(y,{fontSize:"small",sx:{display:"flex"}},void 0):o&&(0,v.format)(e.end,"hh:mm a",{locale:l})}),void 0)]}),void 0)),(0,n.jsx)(s.Fragment,{children:(0,n.jsx)(_,Object.assign({color:e.color,className:"EventItem",sx:i,elevation:2},{children:(0,n.jsx)(c.ButtonBase,Object.assign({onClick:t=>{t.preventDefault(),t.stopPropagation(),null==u||u(e,t)},disabled:e.disabled,sx:{width:"100%",height:"100%",display:"block",background:e.disabled?e=>e.palette.action.disabled:"inherit"},draggable:!h,onDragStart:t=>{t.stopPropagation(),t.dataTransfer.setData("text/plain",`${e.id}`),t.currentTarget.style.backgroundColor=p.palette.error.main},onDragEnd:t=>{t.currentTarget.style.backgroundColor=e.color||p.palette.primary.main},onDragOver:e=>{e.stopPropagation(),e.preventDefault()},onDragEnter:e=>{e.stopPropagation(),e.preventDefault()}},{children:x}),void 0)}),void 0)},void 0)};E.defaultProps={multiday:!1,showdate:!0};const A=E,V=(0,u.styled)(c.Box)((({days:e,indent:t="1",theme:n})=>({position:"relative",display:"grid",height:"100%",gridTemplateRows:"0.3fr",gridAutoRows:"1fr",gridTemplateColumns:+t>0?`10% repeat(${e}, 1fr)`:`repeat(${e}, 1fr)`,[n.breakpoints.down("sm")]:{gridTemplateColumns:+t>0?`30px repeat(${e}, 1fr)`:""},"&:first-of-type":{borderStyle:"solid",borderColor:n.palette.grey[200],borderWidth:"0 1px 1px 0"}}))),G=(0,u.styled)(c.Box,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t=!1})=>Object.assign(Object.assign({position:"relative",borderColor:e.palette.grey[200],borderWidth:"1px 0px 0px 1px",borderStyle:"solid"},t&&{background:(0,c.alpha)(e.palette.secondary.light,.6)}),{"& > button":{width:"100%",height:"100%",borderRadius:0,cursor:"pointer","&:hover":{background:(0,c.alpha)(e.palette.primary.main,.1)}},"& .rs__hover__op":{cursor:"pointer","&:hover":{opacity:.7,textDecoration:"underline"}}}))),Q=(0,u.styled)(G,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t=!1})=>Object.assign(Object.assign({padding:"2px 5px"},!t&&{background:(0,c.alpha)(e.palette.secondary.light,.6),"& .MuiTypography-root":{color:e.palette.getContrastText((0,c.alpha)(e.palette.secondary.light,.6))}}),t&&{background:e.palette.secondary.main,"& .MuiTypography-root":{color:e.palette.getContrastText(e.palette.secondary.main)}}))),U=(0,u.styled)(G)((({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",[e.breakpoints.down("sm")]:{writingMode:"vertical-rl"},padding:"2px 5px"}))),X=((0,u.styled)(c.Box)((()=>({minWidth:400,maxWidth:"95%","& > div":{padding:"5px 10px","& .rs__popper_actions":{display:"flex",alignItems:"center",justifyContent:"space-between"}}}))),require("use-resize-observer"));var Y=e.n(X);const J=require("lodash.throttle");var K=e.n(J);const Z=e=>{const[t,n]=(0,s.useState)({width:1,height:1}),a=(0,s.useMemo)((()=>K()(n,e)),[e]),{ref:r}=Y()({onResize:a});return Object.assign({ref:r},t)},ee=(0,s.memo)((({todayEvents:e,today:t,startHour:a,step:r,minuteHeight:o,direction:i})=>(0,n.jsx)(s.Fragment,{children:e.map(((s,d)=>{const l=(0,v.differenceInMinutes)(s.end,s.start)*o,c=(0,v.differenceInMinutes)(s.start,(0,v.set)(t,{hours:a,minutes:0,seconds:0})),u=c*o+(c/r+1),h=((e,t)=>e.filter((e=>(0,v.isWithinInterval)((0,v.addMinutes)(t.start,1),{start:e.start,end:e.end})||(0,v.isWithinInterval)((0,v.addMinutes)(t.end,-1),{start:e.start,end:e.end})||(0,v.isWithinInterval)((0,v.addMinutes)(e.start,1),{start:t.start,end:t.end})||(0,v.isWithinInterval)((0,v.addMinutes)(e.end,-1),{start:t.start,end:t.end}))))(e,s),p=h.findIndex((e=>s.id===e.id));return(0,n.jsx)(A,{sx:{position:"absolute",zIndex:1,height:l,top:u,width:h.length?`calc(${100/h.length}% - 5%)`:"95%",["rtl"===i?"right":"left"]:p>0?`calc(100%/${h.length}*${p})`:""},event:s},s.id)}))},void 0))),te=(0,s.memo)((e=>{const{onEventDrop:t,events:s}=g(),a=(0,c.useTheme)();return(0,n.jsx)(c.Button,Object.assign({fullWidth:!0,onClick:e.onCellClick,onDragOver:e=>{e.currentTarget.style.backgroundColor=(0,c.alpha)(a.palette.secondary.main,.3),e.preventDefault()},onDragEnter:e=>{e.currentTarget.style.backgroundColor=(0,c.alpha)(a.palette.secondary.main,.3)},onDragLeave:e=>{e.currentTarget.style.backgroundColor=""},onDrop:n=>{n.currentTarget.style.backgroundColor="",((e,n)=>{if(!s)return;const a=s.find((t=>"number"==typeof t.id?t.id===+e:t.id===e));if((0,v.isEqual)(a.start,n))return;const r=(0,v.differenceInMinutes)(a.end,a.start),o=Object.assign(Object.assign({},a),{start:n,end:(0,v.addMinutes)(n,r)});null==t||t(n,o,a)})(n.dataTransfer.getData("text"),e.start)}},{children:e.children}),void 0)})),ne=(0,s.memo)((e=>{const{onCellClick:t}=g();return e.cellRenderer?e.cellRenderer({day:e.day,start:e.start,end:e.end,onClick:n=>null==t?void 0:t(e.start,e.end,n)}):(0,n.jsx)(te,{start:e.start,end:e.end,onCellClick:n=>null==t?void 0:t(e.start,e.end,n)},void 0)})),se=(0,s.memo)((e=>{const{direction:t,view:a}=g(),{ref:r,height:o=1}=Z(100),i=o/e.step,d=(0,s.useMemo)((()=>e.events.filter((t=>(0,v.isSameDay)(e.day,t.start)&&!(0,v.differenceInDays)(t.end,t.start))).sort(((e,t)=>e.end.getTime()-t.end.getTime()))),[e.events,e.day]),l=(0,v.set)(e.day,{hours:(0,v.getHours)(e.hour),minutes:(0,v.getMinutes)(e.hour)}),c=(0,v.addMinutes)(l,e.step);return(0,n.jsxs)(G,Object.assign({today:(0,v.isToday)(e.day)&&"week"===a,ref:r},{children:[(0,n.jsx)(ee,{todayEvents:d,today:e.day,minuteHeight:i,startHour:e.startHour,step:e.step,direction:null!=t?t:"ltr"},void 0),(0,n.jsx)(ne,Object.assign({},e,{start:l,day:e.day,end:c}),void 0)]}),void 0)})),ae=(0,s.memo)((e=>{const{events:t=[]}=g(),s=e.daysList.map((s=>(0,n.jsx)(se,{day:s,events:t,step:e.step,startHour:e.startHour,hour:e.hour},s.toISOString())));return(0,n.jsx)(n.Fragment,{children:s},void 0)})),re=(0,s.memo)((e=>{const{view:t}=g();let s=[];for(let a=0;a<e.daysList.length;a++){const r=e.daysList[a],o=(0,v.set)(r,{hours:(0,v.getHours)(e.hour),minutes:(0,v.getMinutes)(e.hour)}),i=(0,v.addMinutes)(o,e.step);s.push((0,n.jsx)(G,Object.assign({today:(0,v.isToday)(r)&&"week"===t},{children:(0,n.jsx)(ne,Object.assign({},e,{start:o,day:r,end:i}),void 0)}),void 0))}return(0,n.jsx)(n.Fragment,{children:s},void 0)})),oe=(0,s.memo)((e=>{const{locale:t}=g();let a=[];for(let r=0;r<e.hours.length;r++){const o=e.hours[r];a.push((0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(U,{children:(0,n.jsx)(c.Typography,Object.assign({variant:"caption"},{children:(0,v.format)(o,"hh:mm a",{locale:t})}),void 0)},void 0),0===r?(0,n.jsx)(ae,{hour:o,startHour:e.startHour,step:e.step,cellRenderer:e.cellRenderer,daysList:e.daysList},void 0):(0,n.jsx)(re,{step:e.step,cellRenderer:e.cellRenderer,daysList:e.daysList,hour:o},void 0)]},o.toISOString()))}return(0,n.jsx)(n.Fragment,{children:a},void 0)})),ie=()=>{const{day:e,selectedDate:t=y,events:s=[]}=g(),{startHour:a,endHour:r,step:o}=e,i=(0,v.setMinutes)((0,v.setHours)(t,a),0),d=(0,v.setMinutes)((0,v.setHours)(t,r),0),l=(0,v.eachMinuteOfInterval)({start:i,end:d},{step:o}),u=s.sort(((e,t)=>t.end.getTime()-e.end.getTime())),h=e=>{const s=e.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)})));return(0,n.jsx)(c.Box,Object.assign({sx:{height:28*s.length,position:"relative"}},{children:s.map(((e,s)=>{const a=(0,v.isBefore)(e.start,(0,v.startOfDay)(t)),r=(0,v.isAfter)(e.end,(0,v.endOfDay)(t));return(0,n.jsx)(A,{event:e,multiday:!0,hasPrev:a,hasNext:r,sx:{position:"absolute",zIndex:1,textOverflow:"ellipsis",top:28*s+"px",width:"100%"}},e.id)}))}),void 0)};return(()=>{const e=28*s.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))).length+45;return(0,n.jsxs)(V,Object.assign({days:1},{children:[(0,n.jsx)(G,{},void 0),(0,n.jsxs)(Q,Object.assign({sx:{height:`${e}px`}},{children:[(0,n.jsx)(W,{date:t},void 0),h(u)]}),void 0),(0,n.jsx)(oe,{daysList:[t],step:o,startHour:a,hours:l},void 0)]}),void 0)})()},de={end:new Date,id:"null",start:new Date,title:""};let le=[];const ce=({events:e,today:t,onViewMore:r,weekEnd:o,weekStart:i,cellSize:d})=>{const{localizationTexts:l}=g(),u=(0,s.useRef)(!1),h=((e,t=0,n=1)=>Math.min(n,Math.max(t,e)))(Math.round((d-27)/28-1),0,100);(le.length!==h||(0,v.isSameDay)(t,i))&&(le=new Array(h).fill(de));const p=e.filter((e=>(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))).sort(((e,t)=>(0,v.compareDesc)(e.end,t.end)));return(0,s.useEffect)((()=>{u.current=!1}),[p]),(0,n.jsx)(s.Fragment,{children:p.map(((e,s)=>{var d;const y=(0,v.isBefore)(e.start,i),g=y?i:e.start;let m=(0,v.differenceInDays)(e.end,g)+1;const x=(0,v.isAfter)(e.end,o);x&&(m=(0,v.differenceInDays)(o,(0,v.clamp)(e.start,{start:i,end:o}))+1);const j=(0,v.isSameDay)(g,t);let f=s,b=!1;if(le=le.map((e=>(0,v.isBefore)(e.end,t)?de:e)),j){const t=le.findIndex((e=>e.id===de.id));-1!==t?(f=t,le[t]=e):(b=!0,f=h)}const O=28*f+27+2;return b&&j&&!u.current?(u.current=!0,(0,n.jsxs)(c.Typography,Object.assign({width:"100%",sx:{position:"absolute",zIndex:1,textOverflow:"ellipsis",cursor:"pointer","&:hover":{opacity:.7,textDecoration:"underline"}},style:{top:O,fontSize:11},onClick:t=>{t.stopPropagation(),r(e.start)}},{children:[Math.abs(p.length-h)," ",null!==(d=null==l?void 0:l.more)&&void 0!==d?d:"More..."]}),e.title)):b&&j&&u.current?(0,n.jsx)(a().Fragment,{},e.title):j?(0,n.jsx)(A,{sx:{top:`${O}px`,width:100*m+"%",position:"absolute",zIndex:1,textOverflow:"ellipsis"},event:e,showdate:!1,multiday:(0,v.differenceInDays)(e.end,e.start)>0,hasPrev:y,hasNext:x},e.title):(0,n.jsx)(a().Fragment,{},e.title)}))},void 0)},ue=(0,u.styled)(c.Avatar,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t})=>({width:27,height:27,position:"absolute",top:0,background:t?e.palette.secondary.main:"transparent",color:t?e.palette.getContrastText(e.palette.secondary.main):e.palette.text.primary,marginBottom:2}))),he=({cellRenderer:e,daysList:t,monthStart:a,end:r,start:o,day:i,endDay:d,startDay:l,today:u,weekDays:h})=>{const{ref:p,height:m=1}=Z(100),{events:x=[],selectedDate:j=y,onCellClick:f,onViewChange:b,onDateChange:O}=g(),D=(0,c.useTheme)(),k=e=>{null==b||b("day"),null==O||O(e)};return(0,n.jsxs)(G,Object.assign({className:"MonthCell",ref:p,sx:{minHeight:54}},{children:[e?e({day:j,start:o,end:r,onClick:e=>null==f?void 0:f(o,r,e)}):(0,n.jsx)(te,{start:o,end:r,onCellClick:e=>null==f?void 0:f(o,r,e)},void 0),(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(ue,Object.assign({today:(0,v.isToday)(u),className:"DayNumber"},{children:(0,n.jsx)(c.Typography,Object.assign({color:(0,v.isSameMonth)(u,a)?"inherit":D.palette.text.disabled,className:"rs__hover__op",onClick:e=>{e.stopPropagation(),k(u)}},{children:(0,v.format)(u,"dd")}),void 0)}),void 0),m>1&&(0,n.jsx)(ce,{events:x,today:u,daysList:t,onViewMore:k,weekStart:(0,v.addDays)(l,h[0]),weekEnd:(0,v.endOfDay)(d),cellSize:m},void 0)]},void 0)]}),i.toString())},pe=({cellRenderer:e,eachWeekStart:t,endHour:s,startHour:a,weekDays:r,daysList:o,monthStart:i})=>{const d=t.map((t=>{const d=(0,v.addDays)(t,r[r.length-1]);return r.map((l=>{const c=(0,v.addDays)(t,l),u=new Date(`${(0,v.format)((0,v.setHours)(c,a),"yyyy MM dd hh:mm a")}`),h=new Date(`${(0,v.format)((0,v.setHours)(c,s),"yyyy MM dd hh:mm a")}`);return(0,n.jsx)(he,{daysList:o,monthStart:i,end:h,start:u,day:l,endDay:d,startDay:t,today:c,weekDays:r,cellRenderer:e},u.toString())}))})).flat(1);return(0,n.jsx)(n.Fragment,{children:d},void 0)},ye=()=>{const{month:e,selectedDate:t=y,locale:s}=g(),{weekStartOn:a,weekDays:r,startHour:o,endHour:i,cellRenderer:d}=e,l=(0,v.startOfMonth)(t),u=(0,v.endOfMonth)(t),h=(0,v.eachWeekOfInterval)({start:l,end:u},{weekStartsOn:a}),p=r.map((e=>(0,v.addDays)(h[0],e)));return(0,n.jsxs)(V,Object.assign({days:p.length,indent:"0",className:"MonthGrid"},{children:[p.map((e=>(0,n.jsx)(Q,Object.assign({className:"MonthHeaderCell"},{children:(0,n.jsx)(c.Typography,Object.assign({align:"center",variant:"h6"},{children:(0,v.format)(e,"eee",{locale:s})}),void 0)}),e.toISOString()))),(0,n.jsx)(pe,{cellRenderer:d,eachWeekStart:h,weekDays:r,startHour:o,endHour:i,daysList:p,monthStart:l},void 0)]}),void 0)},ve=()=>{const{week:e,selectedDate:t=y,events:a=[],onViewChange:r,onDateChange:o}=g(),{weekStartOn:i,weekDays:d,startHour:l,endHour:c,step:u,cellRenderer:h}=e,p=(0,s.useMemo)((()=>(0,v.startOfWeek)(t,{weekStartsOn:i})),[t,i]),m=(0,s.useMemo)((()=>d.map((e=>(0,v.addDays)(p,e)))),[p]),x=(0,s.useMemo)((()=>(0,v.startOfDay)(m[0])),[m]),j=(0,s.useMemo)((()=>(0,v.endOfDay)(m[m.length-1])),[m]),f=(0,s.useMemo)((()=>(0,v.setMinutes)((0,v.setHours)(t,l),0)),[t,l]),b=(0,s.useMemo)((()=>(0,v.setMinutes)((0,v.setHours)(t,c),0)),[t,c]),O=(0,s.useMemo)((()=>(0,v.eachMinuteOfInterval)({start:f,end:b},{step:u})),[f,b,u]),D=e=>{null==o||o(e),null==r||r("day")},k=(0,s.useCallback)((e=>e.map(((e,t)=>{const s=(0,v.isBefore)((0,v.startOfDay)(e.start),x),a=(0,v.isAfter)((0,v.endOfDay)(e.end),j),r=(0,v.differenceInDays)(a?j:e.end,s?x:e.start)+1,o=(0,v.differenceInDays)((0,v.clamp)(e.start,{start:x,end:j}),x);return(0,n.jsx)(A,{event:e,hasPrev:s,hasNext:a,multiday:!0,sx:{top:28*t+45,width:100*r+"%",left:100*o+"%",position:"absolute",zIndex:1,textOverflow:"ellipsis"}},e.id)}))),[j,x]);return(()=>{const e=a.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&m.some((t=>(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))))),t=28*e.length+45;return(0,n.jsxs)(V,Object.assign({days:m.length},{children:[(0,n.jsx)(G,{},void 0),m.map((s=>(0,n.jsxs)(Q,Object.assign({today:(0,v.isToday)(s),sx:{height:t}},{children:[(0,n.jsx)(W,{date:s,onClick:D},void 0),(0,v.isSameDay)(x,s)&&k(e)]}),s.toISOString()))),(0,n.jsx)(oe,{daysList:m,hours:O,startHour:l,step:u,cellRenderer:h},void 0)]}),void 0)})()},ge=(0,u.styled)(c.Box,{name:"Calendar"})((()=>({position:"relative",display:"flex",flexDirection:"column"}))),me=(0,u.styled)(c.Box,{name:"LoadingOverlay"})((({theme:e})=>({background:e.palette.action.disabledBackground,position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:9,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}))),xe=(0,u.styled)(c.Box,{name:"Table"})((()=>({flexGrow:1,width:"100%",overflowX:"auto",overflowY:"hidden"}))),je=()=>{const{loading:e,view:t,sx:a}=g(),r=(0,s.useMemo)((()=>{switch(t){case"month":return(0,n.jsx)(ye,{},void 0);case"week":return(0,n.jsx)(ve,{},void 0);case"day":return(0,n.jsx)(ie,{},void 0);default:return""}}),[t]);return(0,n.jsxs)(ge,Object.assign({sx:a},{children:[e&&(0,n.jsxs)(me,Object.assign({className:"LoadingOverlay"},{children:[(0,n.jsx)(c.CircularProgress,{size:50},void 0),(0,n.jsx)(c.Typography,Object.assign({sx:{pt:10},align:"center"},{children:"Loading..."}),void 0)]}),void 0),(0,n.jsx)(B,{},void 0),(0,n.jsx)(xe,Object.assign({className:"Table"},{children:r}),void 0)]}),void 0)},fe=(0,s.memo)((e=>(0,n.jsx)(l,Object.assign({passedProps:e},{children:(0,n.jsx)(je,{},void 0)}),void 0)));module.exports=t})();