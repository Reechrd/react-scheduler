(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Scheduler:()=>ye});const n=require("react/jsx-runtime"),a=require("date-fns/locale/en-US");var r=e.n(a);const s=require("react");var o=e.n(s);const i={month:{weekDays:[0,1,2,3,4,5,6],weekStartOn:1,startHour:9,endHour:17},week:{weekDays:[0,1,2,3,4,5,6],weekStartOn:1,startHour:6,endHour:17,step:60},day:{startHour:6,endHour:17,step:60},view:"week",selectedDate:new Date,events:[],loading:void 0,direction:"ltr",locale:r()},d=(0,s.createContext)(Object.assign({},i)),l=({passedProps:e,children:t})=>(0,n.jsx)(d.Provider,Object.assign({value:e},{children:t}),void 0),c=require("@mui/material"),u=require("@mui/material/styles"),h=require("@mui/icons-material/MoreVert");var p=e.n(h);const y=new Date,v=require("date-fns"),g=()=>(0,s.useContext)(d),m=require("@mui/lab/DatePicker");var x=e.n(m);const j=require("@mui/icons-material/NavigateBeforeRounded");var f=e.n(j);const b=require("@mui/icons-material/NavigateNextRounded");var O=e.n(b);const D=({type:e,onClick:t,tooltip:a})=>{const{direction:r}=g();let s=O();return"prev"===e?s="rtl"===r?O():f():"next"===e&&(s="rtl"===r?f():O()),(0,n.jsx)(c.Tooltip,Object.assign({title:a,describeChild:!0},{children:(0,n.jsx)(c.IconButton,Object.assign({style:{padding:2},onClick:t,onDragOver:e=>{e.preventDefault(),t&&t()}},{children:(0,n.jsx)(s,{},void 0)}),void 0)}),void 0)},k=require("@mui/lab/AdapterDateFns");var w=e.n(k);const C=require("@mui/lab/LocalizationProvider");var M=e.n(C);const T=({children:e})=>{const{locale:t}=g();return(0,n.jsx)(M(),Object.assign({dateAdapter:w(),locale:t},{children:e}),void 0)},S=({selectedDate:e})=>{var t,a;const{locale:r,localizationTexts:o,onDateChange:i}=g(),[d,l]=(0,s.useState)(!1),u=()=>l(!d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const t=(0,v.addDays)(e,-1);null==i||i(t)},tooltip:null!==(t=null==o?void 0:o.previousDay)&&void 0!==t?t:"Previous day"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:d,onClose:u,openTo:"day",views:["month","day"],value:e,onChange:(e,t)=>{e&&(null==i||i(e))},renderInput:t=>(0,n.jsx)(c.Button,Object.assign({ref:t.inputRef,style:{padding:4},onClick:u},{children:`${(0,v.format)(e,"dd, MMMM yyyy",{locale:r})}`}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const t=(0,v.addDays)(e,1);null==i||i(t)},tooltip:null!==(a=null==o?void 0:o.nextDay)&&void 0!==a?a:"Next day"},void 0)]},void 0)},I=({selectedDate:e})=>{var t,a;const{locale:r,localizationTexts:o,onDateChange:i}=g(),[d,l]=(0,s.useState)(!1),u=()=>l(!d);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const t=(0,v.addMonths)(e,-1);null==i||i(t)},tooltip:null!==(t=null==o?void 0:o.previousMonth)&&void 0!==t?t:"Previous month"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:d,onClose:u,openTo:"month",views:["year","month"],value:e,onChange:(e,t)=>{e&&(null==i||i(e))},renderInput:t=>(0,n.jsx)(c.Button,Object.assign({ref:t.inputRef,style:{padding:4},onClick:u},{children:(0,v.format)(e,"MMMM yyyy",{locale:r})}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const t=(0,v.addMonths)(e,1);null==i||i(t)},tooltip:null!==(a=null==o?void 0:o.nextMonth)&&void 0!==a?a:"Next month"},void 0)]},void 0)},P=({selectedDate:e,weekProps:t})=>{var a,r;const{locale:o,localizationTexts:i,onDateChange:d}=g(),[l,u]=(0,s.useState)(!1),{weekStartOn:h}=t,p=(0,v.startOfWeek)(e,{weekStartsOn:h}),y=(0,v.endOfWeek)(e,{weekStartsOn:h}),m=()=>u(!l);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{type:"prev",onClick:()=>{const e=(0,v.addDays)(p,-1);null==d||d(e)},tooltip:null!==(a=null==i?void 0:i.previousWeek)&&void 0!==a?a:"Previous week"},void 0),(0,n.jsx)(T,{children:(0,n.jsx)(x(),{open:l,onClose:m,openTo:"day",views:["month","day"],value:e,onChange:(e,t)=>{e&&(null==d||d(e))},renderInput:e=>(0,n.jsx)(c.Button,Object.assign({ref:e.inputRef,style:{padding:4},onClick:m},{children:`${(0,v.format)(p,"dd",{locale:o})} - ${(0,v.format)(y,"dd MMMM yyyy",{locale:o})}`}),void 0)},void 0)},void 0),(0,n.jsx)(D,{type:"next",onClick:()=>{const e=(0,v.addDays)(y,1);null==d||d(e)},tooltip:null!==(r=null==i?void 0:i.nextWeek)&&void 0!==r?r:"Next week"},void 0)]},void 0)},H=(0,u.styled)(c.Toolbar,{name:"Toolbar"})({display:"flex",justifyContent:"space-between",alignItems:"center"}),B=(e,t)=>{var n;return null!==(n=null==t?void 0:t[e])&&void 0!==n?n:e},W=(0,s.memo)((()=>{var e;const{selectedDate:t=y,view:a,week:r,localizationTexts:o,renderNavigation:i,day:d,month:l,onDateChange:u,onViewChange:h}=g(),[v,m]=(0,s.useState)(null),x=(0,c.useTheme)(),j=(0,c.useMediaQuery)(x.breakpoints.up("sm")),f=((e,t,n)=>{let a=[];return e&&a.push("month"),t&&a.push("week"),n&&a.push("day"),a})(l,r,d),b=e=>{m(e||null)},O=(()=>{switch(a){case"month":return(0,n.jsx)(I,{selectedDate:t},void 0);case"week":return(0,n.jsx)(P,{selectedDate:t,weekProps:r},void 0);case"day":return(0,n.jsx)(S,{selectedDate:t},void 0);default:return(0,n.jsx)(n.Fragment,{},void 0)}})(),D=(0,n.jsx)(c.Button,Object.assign({onClick:()=>null==u?void 0:u(new Date)},{children:null!==(e=null==o?void 0:o.today)&&void 0!==e?e:"Today"}),void 0);let k=(0,n.jsx)(n.Fragment,{children:f.map((e=>(0,n.jsx)(c.Button,Object.assign({color:e===a?"primary":"inherit",onClick:()=>null==h?void 0:h(e),onDragOver:t=>{t.preventDefault(),null==h||h(e)}},{children:B(e,o)}),e)))},void 0);j||(k=(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(c.IconButton,Object.assign({style:{padding:5},onClick:e=>{b(e.currentTarget)}},{children:(0,n.jsx)(p(),{},void 0)}),void 0),(0,n.jsx)(c.Popover,Object.assign({open:Boolean(v),anchorEl:v,onClose:e=>{b()},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},{children:(0,n.jsx)(c.MenuList,Object.assign({autoFocusItem:!!v,disablePadding:!0},{children:f.map((e=>(0,n.jsx)(c.MenuItem,Object.assign({selected:e===a,onClick:()=>{b(),null==h||h(e)}},{children:B(e,o)}),e)))}),void 0)}),void 0)]},void 0)),0===f.length&&(k=(0,n.jsx)(n.Fragment,{},void 0));let w=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[O,D]},void 0),(0,n.jsx)("div",{children:k},void 0)]},void 0);return i&&(w=i({dateSelector:O,todayButton:D,viewSelector:k,isDesktop:j})),(0,n.jsx)(H,Object.assign({className:"Toolbar"},{children:w}),void 0)})),R=({date:e,onClick:t})=>{const{locale:a}=g();return(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Typography,Object.assign({style:{fontWeight:(0,v.isToday)(e)?"bold":"inherit"},color:(0,v.isToday)(e)?"primary":"inherit",className:t?"rs__hover__op":"",onClick:n=>{n.stopPropagation(),t&&t(e)}},{children:(0,v.format)(e,"dd")}),void 0),(0,n.jsx)(c.Typography,Object.assign({color:(0,v.isToday)(e)?"primary":"inherit",style:{fontWeight:(0,v.isToday)(e)?"bold":"inherit",fontSize:11}},{children:(0,v.format)(e,"eee",{locale:a})}),void 0)]},void 0)},z=require("@mui/icons-material/ArrowLeftRounded");var F=e.n(z);const N=require("@mui/icons-material/ArrowRightRounded");var _=e.n(N);const L=(0,u.styled)(c.Paper,{shouldForwardProp:e=>"disabled"!==e&&"color"!==e})((({theme:e,color:t})=>({width:"100%",display:"block",background:t||e.palette.primary.main,color:e.palette.primary.contrastText,overflow:"hidden"}))),E=(0,u.styled)(c.Box)((({theme:e})=>({padding:e.spacing(.3)}))),$=(0,u.styled)(c.Box)((({theme:e})=>({padding:e.spacing(.3),display:"flex",alignItems:"center",justifyContent:"space-between"}))),q=({event:e,multiday:t,hasPrev:a,hasNext:r,showdate:o,sx:i})=>{const{direction:d,locale:l,onEventClick:u,disableDrag:h}=g(),p=(0,c.useTheme)(),y="rtl"===d?F():_(),m="rtl"===d?_():F();let x=(0,n.jsxs)(E,Object.assign({className:"Item"},{children:[(0,n.jsx)(c.Typography,Object.assign({variant:"subtitle2",style:{fontSize:12},noWrap:!0},{children:e.title}),void 0),o&&(0,n.jsx)(c.Typography,Object.assign({style:{fontSize:11},noWrap:!0},{children:`${(0,v.format)(e.start,"hh:mm a",{locale:l})} - ${(0,v.format)(e.end,"hh:mm a",{locale:l})}`}),void 0)]}),void 0);return t&&(x=(0,n.jsxs)($,Object.assign({className:"Multiday"},{children:[(0,n.jsx)(c.Typography,Object.assign({sx:{fontSize:11},noWrap:!0},{children:a?(0,n.jsx)(m,{fontSize:"small",sx:{display:"flex"}},void 0):o&&(0,v.format)(e.start,"hh:mm a",{locale:l})}),void 0),(0,n.jsx)(c.Typography,Object.assign({variant:"subtitle2",align:"center",sx:{fontSize:12},noWrap:!0},{children:e.title}),void 0),(0,n.jsx)(c.Typography,Object.assign({sx:{fontSize:11},noWrap:!0},{children:r?(0,n.jsx)(y,{fontSize:"small",sx:{display:"flex"}},void 0):o&&(0,v.format)(e.end,"hh:mm a",{locale:l})}),void 0)]}),void 0)),(0,n.jsx)(s.Fragment,{children:(0,n.jsx)(L,Object.assign({color:e.color,className:"EventItem",sx:i,elevation:2},{children:(0,n.jsx)(c.ButtonBase,Object.assign({onClick:t=>{t.preventDefault(),t.stopPropagation(),null==u||u(e,t)},disabled:e.disabled,sx:{width:"100%",height:"100%",display:"block",background:e.disabled?e=>e.palette.action.disabled:"inherit"},draggable:!h,onDragStart:t=>{t.stopPropagation(),t.dataTransfer.setData("text/plain",`${e.id}`),t.currentTarget.style.backgroundColor=p.palette.error.main},onDragEnd:t=>{t.currentTarget.style.backgroundColor=e.color||p.palette.primary.main},onDragOver:e=>{e.stopPropagation(),e.preventDefault()},onDragEnter:e=>{e.stopPropagation(),e.preventDefault()}},{children:x}),void 0)}),void 0)},void 0)};q.defaultProps={multiday:!1,showdate:!0};const A=q,V=(0,u.styled)(c.Box)((({days:e,indent:t="1",theme:n})=>({position:"relative",display:"grid",height:"100%",gridTemplateRows:"0.3fr",gridAutoRows:"1fr",gridTemplateColumns:+t>0?`10% repeat(${e}, 1fr)`:`repeat(${e}, 1fr)`,[n.breakpoints.down("sm")]:{gridTemplateColumns:+t>0?`30px repeat(${e}, 1fr)`:""},"&:first-of-type":{borderStyle:"solid",borderColor:n.palette.grey[200],borderWidth:"0 1px 1px 0"}}))),G=(0,u.styled)(c.Box,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t=!1})=>Object.assign(Object.assign({position:"relative",borderColor:e.palette.grey[200],borderWidth:"1px 0px 0px 1px",borderStyle:"solid"},t&&{background:(0,c.alpha)(e.palette.secondary.light,.6)}),{"& > button":{width:"100%",height:"100%",borderRadius:0,cursor:"pointer","&:hover":{background:(0,c.alpha)(e.palette.primary.main,.1)}},"& .rs__hover__op":{cursor:"pointer","&:hover":{opacity:.7,textDecoration:"underline"}}}))),Q=(0,u.styled)(G,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t=!1})=>Object.assign(Object.assign({padding:"2px 5px"},!t&&{background:(0,c.alpha)(e.palette.secondary.light,.6),"& .MuiTypography-root":{color:e.palette.getContrastText((0,c.alpha)(e.palette.secondary.light,.6))}}),t&&{background:e.palette.secondary.main,"& .MuiTypography-root":{color:e.palette.getContrastText(e.palette.secondary.main)}}))),U=(0,u.styled)(G)((({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",[e.breakpoints.down("sm")]:{writingMode:"vertical-rl"},padding:"2px 5px"}))),X=((0,u.styled)(c.Box)((()=>({minWidth:400,maxWidth:"95%","& > div":{padding:"5px 10px","& .rs__popper_actions":{display:"flex",alignItems:"center",justifyContent:"space-between"}}}))),(0,s.memo)((({todayEvents:e,today:t,startHour:a,step:r,minuteHeight:o,direction:i})=>(0,n.jsx)(s.Fragment,{children:e.map(((s,d)=>{const l=(0,v.differenceInMinutes)(s.end,s.start)*o,c=(0,v.differenceInMinutes)(s.start,(0,v.set)(t,{hours:a,minutes:0,seconds:0})),u=c*o+(c/r+1),h=((e,t)=>e.filter((e=>(0,v.isWithinInterval)((0,v.addMinutes)(t.start,1),{start:e.start,end:e.end})||(0,v.isWithinInterval)((0,v.addMinutes)(t.end,-1),{start:e.start,end:e.end})||(0,v.isWithinInterval)((0,v.addMinutes)(e.start,1),{start:t.start,end:t.end})||(0,v.isWithinInterval)((0,v.addMinutes)(e.end,-1),{start:t.start,end:t.end}))))(e,s),p=h.findIndex((e=>s.id===e.id));return(0,n.jsx)(A,{sx:{position:"absolute",zIndex:1,height:l,top:u,width:h.length?`calc(${100/h.length}% - 5%)`:"95%",["rtl"===i?"right":"left"]:p>0?`calc(100%/${h.length}*${p})`:""},event:s},s.id)}))},void 0)))),Y=({start:e,end:t,children:a,onCellClick:r})=>{const{onEventDrop:s,events:o}=g(),i=(0,c.useTheme)();return(0,n.jsx)(c.Button,Object.assign({fullWidth:!0,onClick:r,onDragOver:e=>{e.currentTarget.style.backgroundColor=(0,c.alpha)(i.palette.secondary.main,.3),e.preventDefault()},onDragEnter:e=>{e.currentTarget.style.backgroundColor=(0,c.alpha)(i.palette.secondary.main,.3)},onDragLeave:e=>{e.currentTarget.style.backgroundColor=""},onDrop:t=>{t.currentTarget.style.backgroundColor="",((e,t)=>{if(!o)return;const n=o.find((t=>"number"==typeof t.id?t.id===+e:t.id===e));if((0,v.isEqual)(n.start,t))return;const a=(0,v.differenceInMinutes)(n.end,n.start),r=Object.assign(Object.assign({},n),{start:t,end:(0,v.addMinutes)(t,a)});null==s||s(t,r,n)})(t.dataTransfer.getData("text"),e)}},{children:a}),void 0)},J=(0,s.memo)((0,s.forwardRef)(((e,t)=>{const{onCellClick:a}=g();return e.cellRenderer?e.cellRenderer({day:e.day,start:e.start,end:e.end,ref:t,onClick:t=>null==a?void 0:a(e.start,e.end,t)}):(0,n.jsx)(Y,{start:e.start,end:e.end,onCellClick:t=>null==a?void 0:a(e.start,e.end,t)},void 0)}))),K=(0,s.memo)((e=>{const{direction:t,view:a}=g(),r=(0,s.useRef)(null),[o,i]=(0,s.useState)(null),d=(0,s.useMemo)((()=>e.events.filter((t=>(0,v.isSameDay)(e.day,t.start)&&!(0,v.differenceInDays)(t.end,t.start))).sort(((e,t)=>e.end.getTime()-t.end.getTime()))),[e.events,e.day]),l=(0,v.set)(e.day,{hours:(0,v.getHours)(e.hour),minutes:(0,v.getMinutes)(e.hour)}),c=(0,v.addMinutes)(l,e.step);return(0,s.useLayoutEffect)((()=>{var t,n;r.current&&0===e.hourIndex&&d.length>0&&i((null===(n=null===(t=r.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.height)/e.step)}),[d,e.hourIndex,e.step]),(0,n.jsxs)(G,Object.assign({today:(0,v.isToday)(e.day)&&"week"===a},{children:[0===e.hourIndex&&o&&(0,n.jsx)(X,{todayEvents:d,today:e.day,minuteHeight:o,startHour:e.startHour,step:e.step,direction:null!=t?t:"ltr"},void 0),(0,n.jsx)(J,Object.assign({},e,{start:l,day:e.day,end:c,ref:r}),void 0)]}),void 0)})),Z=(0,s.memo)((e=>{const t=e.daysList.map((t=>(0,s.createElement)(K,Object.assign({},e,{day:t,key:t.toISOString()}))));return(0,n.jsx)(n.Fragment,{children:t},void 0)})),ee=(0,s.memo)((e=>{const{locale:t}=g(),a=e.hours.map(((a,r)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(U,{children:(0,n.jsx)(c.Typography,Object.assign({variant:"caption"},{children:(0,v.format)(a,"hh:mm a",{locale:t})}),void 0)},void 0),(0,n.jsx)(Z,Object.assign({},e,{hour:a,hourIndex:r}),void 0)]},a.toISOString())));return(0,n.jsx)(n.Fragment,{children:a},void 0)})),te=()=>{const{day:e,selectedDate:t=y,events:a=[]}=g(),{startHour:r,endHour:s,step:o}=e,i=(0,v.setMinutes)((0,v.setHours)(t,r),0),d=(0,v.setMinutes)((0,v.setHours)(t,s),0),l=(0,v.eachMinuteOfInterval)({start:i,end:d},{step:o}),u=a.sort(((e,t)=>t.end.getTime()-e.end.getTime())),h=e=>{const a=e.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)})));return(0,n.jsx)(c.Box,Object.assign({sx:{height:28*a.length,position:"relative"}},{children:a.map(((e,a)=>{const r=(0,v.isBefore)(e.start,(0,v.startOfDay)(t)),s=(0,v.isAfter)(e.end,(0,v.endOfDay)(t));return(0,n.jsx)(A,{event:e,multiday:!0,hasPrev:r,hasNext:s,sx:{position:"absolute",zIndex:1,textOverflow:"ellipsis",top:28*a+"px",width:"100%"}},e.id)}))}),void 0)};return(()=>{const e=28*a.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))).length+45;return(0,n.jsxs)(V,Object.assign({days:1},{children:[(0,n.jsx)(G,{},void 0),(0,n.jsxs)(Q,Object.assign({sx:{height:`${e}px`}},{children:[(0,n.jsx)(R,{date:t},void 0),h(u)]}),void 0),(0,n.jsx)(ee,{daysList:[t],step:o,events:u,startHour:r,hours:l},void 0)]}),void 0)})()},ne={end:new Date,id:"null",start:new Date,title:""};let ae=[];const re=({events:e,today:t,onViewMore:a,weekEnd:r,weekStart:i,cellSize:d})=>{const{localizationTexts:l}=g(),u=(0,s.useRef)(!1),h=((e,t=0,n=1)=>Math.min(n,Math.max(t,e)))(Math.round((d-27)/28-1),0,100);(ae.length!==h||(0,v.isSameDay)(t,i))&&(ae=new Array(h).fill(ne));const p=e.filter((e=>(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))).sort(((e,t)=>(0,v.compareDesc)(e.end,t.end)));return(0,s.useEffect)((()=>{u.current=!1}),[p]),(0,n.jsx)(s.Fragment,{children:p.map(((e,s)=>{var d;const y=(0,v.isBefore)(e.start,i),g=y?i:e.start;let m=(0,v.differenceInDays)(e.end,g)+1;const x=(0,v.isAfter)(e.end,r);x&&(m=(0,v.differenceInDays)(r,(0,v.clamp)(e.start,{start:i,end:r}))+1);const j=(0,v.isSameDay)(g,t);let f=s,b=!1;if(ae=ae.map((e=>(0,v.isBefore)(e.end,t)?ne:e)),j){const t=ae.findIndex((e=>e.id===ne.id));-1!==t?(f=t,ae[t]=e):(b=!0,f=h)}const O=28*f+27+2;return b&&j&&!u.current?(u.current=!0,(0,n.jsxs)(c.Typography,Object.assign({width:"100%",sx:{position:"absolute",zIndex:1,textOverflow:"ellipsis",cursor:"pointer","&:hover":{opacity:.7,textDecoration:"underline"}},style:{top:O,fontSize:11},onClick:t=>{t.stopPropagation(),a(e.start)}},{children:[Math.abs(p.length-h)," ",null!==(d=null==l?void 0:l.more)&&void 0!==d?d:"More..."]}),e.title)):b&&j&&u.current?(0,n.jsx)(o().Fragment,{},e.title):j?(0,n.jsx)(A,{sx:{top:`${O}px`,width:100*m+"%",position:"absolute",zIndex:1,textOverflow:"ellipsis"},event:e,showdate:!1,multiday:(0,v.differenceInDays)(e.end,e.start)>0,hasPrev:y,hasNext:x},e.title):(0,n.jsx)(o().Fragment,{},e.title)}))},void 0)},se=(0,u.styled)(c.Avatar,{shouldForwardProp:e=>"today"!==e})((({theme:e,today:t})=>({width:27,height:27,position:"absolute",top:0,background:t?e.palette.secondary.main:"transparent",color:t?e.palette.getContrastText(e.palette.secondary.main):e.palette.text.primary,marginBottom:2}))),oe=({cellRenderer:e,daysList:t,monthStart:a,end:r,start:o,day:i,endDay:d,startDay:l,today:u,weekDays:h})=>{const p=(0,s.useRef)(null),[m,x]=(0,s.useState)(null),{events:j=[],selectedDate:f=y,onCellClick:b,onViewChange:O,onDateChange:D}=g(),k=(0,c.useTheme)(),w=e=>{null==O||O("day"),null==D||D(e)};return(0,s.useLayoutEffect)((()=>{var e,t,n,a;(null===(t=null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.height)&&x(null===(a=null===(n=p.current)||void 0===n?void 0:n.getBoundingClientRect())||void 0===a?void 0:a.height)}),[]),(0,n.jsxs)(G,Object.assign({className:"MonthCell",ref:p,sx:{minHeight:54}},{children:[e?e({day:f,start:o,end:r,onClick:e=>null==b?void 0:b(o,r,e)}):(0,n.jsx)(Y,{start:o,end:r,onCellClick:e=>null==b?void 0:b(o,r,e)},void 0),(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(se,Object.assign({today:(0,v.isToday)(u),className:"DayNumber"},{children:(0,n.jsx)(c.Typography,Object.assign({color:(0,v.isSameMonth)(u,a)?"inherit":k.palette.text.disabled,className:"rs__hover__op",onClick:e=>{e.stopPropagation(),w(u)}},{children:(0,v.format)(u,"dd")}),void 0)}),void 0),m&&(0,n.jsx)(re,{events:j,today:u,daysList:t,onViewMore:w,weekStart:(0,v.addDays)(l,h[0]),weekEnd:(0,v.endOfDay)(d),cellSize:m},void 0)]},void 0)]}),i.toString())},ie=({cellRenderer:e,eachWeekStart:t,endHour:a,startHour:r,weekDays:s,daysList:o,monthStart:i})=>{const d=t.map((t=>{const d=(0,v.addDays)(t,s[s.length-1]);return s.map((l=>{const c=(0,v.addDays)(t,l),u=new Date(`${(0,v.format)((0,v.setHours)(c,r),"yyyy MM dd hh:mm a")}`),h=new Date(`${(0,v.format)((0,v.setHours)(c,a),"yyyy MM dd hh:mm a")}`);return(0,n.jsx)(oe,{daysList:o,monthStart:i,end:h,start:u,day:l,endDay:d,startDay:t,today:c,weekDays:s,cellRenderer:e},u.toString())}))})).flat(1);return(0,n.jsx)(n.Fragment,{children:d},void 0)},de=()=>{const{month:e,selectedDate:t=y,locale:a}=g(),{weekStartOn:r,weekDays:s,startHour:o,endHour:i,cellRenderer:d}=e,l=(0,v.startOfMonth)(t),u=(0,v.endOfMonth)(t),h=(0,v.eachWeekOfInterval)({start:l,end:u},{weekStartsOn:r}),p=s.map((e=>(0,v.addDays)(h[0],e)));return(0,n.jsxs)(V,Object.assign({days:p.length,indent:"0",className:"MonthGrid"},{children:[p.map((e=>(0,n.jsx)(Q,Object.assign({className:"MonthHeaderCell"},{children:(0,n.jsx)(c.Typography,Object.assign({align:"center",variant:"h6"},{children:(0,v.format)(e,"eee",{locale:a})}),void 0)}),e.toISOString()))),(0,n.jsx)(ie,{cellRenderer:d,eachWeekStart:h,weekDays:s,startHour:o,endHour:i,daysList:p,monthStart:l},void 0)]}),void 0)},le=()=>{const{week:e,selectedDate:t=y,events:a=[],onViewChange:r,onDateChange:o}=g(),{weekStartOn:i,weekDays:d,startHour:l,endHour:c,step:u,cellRenderer:h}=e,p=(0,v.startOfWeek)(t,{weekStartsOn:i}),m=d.map((e=>(0,v.addDays)(p,e))),x=(0,v.startOfDay)(m[0]),j=(0,v.endOfDay)(m[m.length-1]),f=(0,v.setMinutes)((0,v.setHours)(t,l),0),b=(0,v.setMinutes)((0,v.setHours)(t,c),0),O=(0,v.eachMinuteOfInterval)({start:f,end:b},{step:u}),D=e=>{null==o||o(e),null==r||r("day")},k=(0,s.useCallback)((e=>e.map(((e,t)=>{const a=(0,v.isBefore)((0,v.startOfDay)(e.start),x),r=(0,v.isAfter)((0,v.endOfDay)(e.end),j),s=(0,v.differenceInDays)(r?j:e.end,a?x:e.start)+1,o=(0,v.differenceInDays)((0,v.clamp)(e.start,{start:x,end:j}),x);return(0,n.jsx)(A,{event:e,hasPrev:a,hasNext:r,multiday:!0,sx:{top:28*t+45,width:100*s+"%",left:100*o+"%",position:"absolute",zIndex:1,textOverflow:"ellipsis"}},e.id)}))),[j,x]);return(()=>{const e=a.filter((e=>(0,v.differenceInDays)(e.end,e.start)>0&&m.some((t=>(0,v.isWithinInterval)(t,{start:(0,v.startOfDay)(e.start),end:(0,v.endOfDay)(e.end)}))))),t=28*e.length+45;return(0,n.jsxs)(V,Object.assign({days:m.length},{children:[(0,n.jsx)(G,{},void 0),m.map((a=>(0,n.jsxs)(Q,Object.assign({today:(0,v.isToday)(a),sx:{height:t}},{children:[(0,n.jsx)(R,{date:a,onClick:D},void 0),(0,v.isSameDay)(x,a)&&k(e)]}),a.toISOString()))),(0,n.jsx)(ee,{daysList:m,hours:O,events:a,startHour:l,step:u,cellRenderer:h},void 0)]}),void 0)})()},ce=(0,u.styled)(c.Box,{name:"Calendar"})((()=>({position:"relative",display:"flex",flexDirection:"column"}))),ue=(0,u.styled)(c.Box,{name:"LoadingOverlay"})((({theme:e})=>({background:e.palette.action.disabledBackground,position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:9,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}))),he=(0,u.styled)(c.Box,{name:"Table"})((()=>({flexGrow:1,width:"100%",overflowX:"auto",overflowY:"hidden"}))),pe=()=>{const{loading:e,view:t,sx:a}=g(),r=(0,s.useMemo)((()=>{switch(t){case"month":return(0,n.jsx)(de,{},void 0);case"week":return(0,n.jsx)(le,{},void 0);case"day":return(0,n.jsx)(te,{},void 0);default:return""}}),[t]);return(0,n.jsxs)(ce,Object.assign({sx:a},{children:[e&&(0,n.jsxs)(ue,Object.assign({className:"LoadingOverlay"},{children:[(0,n.jsx)(c.CircularProgress,{size:50},void 0),(0,n.jsx)(c.Typography,Object.assign({sx:{pt:10},align:"center"},{children:"Loading..."}),void 0)]}),void 0),(0,n.jsx)(W,{},void 0),(0,n.jsx)(he,Object.assign({className:"Table"},{children:r}),void 0)]}),void 0)},ye=e=>(0,n.jsx)(l,Object.assign({passedProps:e},{children:(0,n.jsx)(pe,{},void 0)}),void 0);ye.defaultProps=i,module.exports=t})();